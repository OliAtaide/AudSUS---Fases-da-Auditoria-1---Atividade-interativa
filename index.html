<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap');

    * {
        font-family: "Jost", sans-serif;
    }

    table {
        background-color: #D1E7FD;
    }

    .table-container {
        background-color: #D1E7FD;
        padding: 24px;
        border-radius: 8px;
    }

    th {
        border-bottom: 1px solid #0B486B;
        font-size: 26px;
        padding-left: 24px;
        padding-right: 24px;
    }

    td {
        padding: 24px;
    }

    td:has(.card-1),
    td:has(.card-2) {
        width: 30%;
    }

    th:first-child,
    td:first-child {
        border-right: 1px solid #0B486B;
    }

    .card {
        height: 150px;
    }

    .card-1,
    .card-2 {
        border: none !important;
    }

    .card-1 {
        font-size: 20px;
        z-index: 99;
    }

    .dragged{
        width: calc(25% - 48px);
        position: absolute;
    }

    .card-2 {
        background-color: #82BDFF;
        position: relative;
    }

    .card-3 {
        font-size: 18px;
        border: 1px solid #0B486B;
    }
</style>

<body>
    <div class="navbar">
        <div class="container">
            <div class="row w-100">
                <div class="col">
                    <p>
                        <strong>Módulo:</strong> Fases da Auditoria Interna I
                    </p>
                    <p>
                        <strong>Aula 03:</strong> Estratégia global de auditoria
                    </p>
                </div>
                <div class="col">
                    <p>
                        <strong>Unidade 1:</strong> Processo de planejar a atividade de auditoria interna
                    </p>
                    <p>
                        <strong>Conteudistas:</strong> Caroline Maestri Nobre Albini e Rafael Hohenfeld Macedo dos
                        Santos
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="navbar">
        <div class="container text-center">
            <h6 class="text-center w-100">
                Atividade Interativa
            </h6>
        </div>
    </div>
    <div class="container">
        <h6>
            Interligue as colunas 1 e 2, a coluna 1 se refere ao objetivo proposto e a coluna 2 as questões propostas:
        </h6>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>
                            OBJETIVO DA AUDITORIA
                        </th>
                        <th colspan="2">
                            QUESTÃO PROPOSTA
                        </th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <td>
                            <div class="card card-1">
                                <div class="card-body">
                                    Verificar a regular utilização de DMIs em cirurgias de coluna vertebral pelos
                                    prestadores do
                                    SUS.
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="card card-2">

                            </div>
                        </td>
                        <td>
                            <div class="card card-3">
                                <div class="card-body">
                                    Os estabelecimentos de saúde habilitados para a assistência de alta complexidade em
                                    oncologia têm respondido em tempo hábil a necessidade de tratamento dos pacientes
                                    diagnosticados com neoplasia maligna? 
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.3/jquery-ui.js"
        integrity="sha256-J8ay84czFazJ9wcTuSDLpPmwpMXOm573OUtZHPQqpEU=" crossorigin="anonymous"></script>
    <script>
        var objetivos = [
            "Verificar a regular utilização de DMIs em cirurgias de coluna vertebral pelos prestadores do SUS.",
            "Verificar a implementação da Política Nacional de Atenção ao Portador de Doença Renal.",
            "Avaliar a eficiência do Hospital Sol e Lua em relação ao referencial básico de auditoria sobre eficiência hospitalar.",
            "Verificar a regularidade da execução do Programa Farmácia Popular do Brasil/PFPB.",
            "Avaliar as medidas implementadas pelo Gestor e o aprimoramento dos serviços no tratamento oncológico.",
            "Verificar o cumprimento das diretrizes da Política Nacional de Atenção Básica (Hipertensão/Diabetes).",
            "Avaliar a gestão e funcionamento do SAMU 192."
        ];

        var questoes = [
            "Houve cobrança irregular de OPME-DMI em cirurgias de coluna vertebral realizadas no Hospital Sol e Lua no período de 2012 a 2017?",
            "O gestor Estadual cumpre as responsabilidades previstas na Assistência Farmacêutica para garantir os medicamentos ao portador de DRC, em estágios 4 e 5?",
            "O Hospital Sol e Lua, no período de janeiro a dezembro de 2022, trabalhou a alta hospitalar com garantia da contrarreferência para a rede, de acordo com os protocolos assistenciais e diretrizes do Núcleo Interno de Regulação?",
            "Há compatibilidade no quantitativo entre as aquisições e as dispensações de medicamentos e/ou correlatos pela farmácia no período de janeiro a dezembro de 2023?",
            "Os estabelecimentos de saúde habilitados para a assistência de alta complexidade em oncologia têm respondido em tempo hábil a necessidade de tratamento dos pacientes diagnosticados com neoplasia maligna?",
            "As ações desenvolvidas pela SMS em relação à atenção aos hipertensos e diabéticos atendem as diretrizes (acesso, integralidade, coordenação do cuidado, longitudinalidade e estímulo à participação do usuário) da PNAB?",
            "A gestão financeira dos recursos destinados ao custeio do SAMU 192, no período de janeiro a dezembro de 2022, está sendo realizada corretamente com relação à execução dos recursos, cumprimento das contrapartidas estadual e municipal e prestação de contas?"
        ];

        function printRows() {
            let obj_tds = [];
            let qst_tds = [];

            objetivos.forEach(function (v, i) {
                obj_tds.push(
                    `
                    <td>
                        <div class="card card-1 card-obj">
                            <div class="card-body">
                                ${v}
                            </div>
                        </div>
                    </td>
                    `
                );
            });

            obj_tds = obj_tds.sort(() => Math.random() - 0.5);

            questoes.forEach(function (v, i) {
                console.log(obj_tds[i]);
                qst_tds.push(
                    `
                    <tr>
                        ${obj_tds[i]}
                        <td>
                            <div class="card card-2 qst-slot">

                            </div>
                        </td>
                        <td>
                            <div class="card card-3">
                                <div class="card-body">
                                   ${v}
                                </div>
                            </div>
                        </td>
                    </tr>
                    `
                )
            });

            $("tbody").html(qst_tds);

            $(".card-obj").draggable();

            $(".qst-slot").droppable({
                accept: ".card-obj",
                tolerance: "pointer",
                drop: function (event, ui) {
                    let pos = $(this).offset();

                    ui.draggable.addClass("dragged");

                    ui.draggable.css({
                        top: pos.top + "px",
                        left: pos.left + "px",
                    });
                },
            });
        }

        printRows();
    </script>
</body>

</html>